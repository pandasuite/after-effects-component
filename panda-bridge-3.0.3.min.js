function connectWebViewJavascriptBridge(e){if(window.WebViewJavascriptBridge)e(WebViewJavascriptBridge);else if(window.WebViewAndroidBridge)e({init:function(e){window.sendMessage=function(n){e(n)}},send:function(e){window.WebViewAndroidBridge.send(e)}});else{if(document.addEventListener("WebViewJavascriptBridgeReady",function(){e(WebViewJavascriptBridge)},!1),isIOS()){if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var n=document.createElement("iframe");n.style.display="none",n.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(n),setTimeout(function(){document.documentElement.removeChild(n)},0)}window.addEventListener("message",function(n){"PandaJavascriptBridgeReady"==n.data&&(PandaBridge.listen("__ps_studio",function(){PandaBridge.isStudio=!0}),e({init:function(e){window.addEventListener("message",function(n){"PandaJavascriptBridgeReady"!=n.data&&e(n.data)},!1)},send:function(e){window!=window.parent&&window.parent.postMessage(e,"*")}}))},!1)}}function isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function executeHook(e,n){PandaBridge.globalReceive.forEach(function(i){i(e,n||[])}),PandaBridge.eventReceive[e]&&PandaBridge.eventReceive[e].forEach(function(e){e(n||[])})}var PandaBridge=function(){};PandaBridge.initCallBack=null,PandaBridge.globalReceive=[],PandaBridge.eventReceive={},PandaBridge.bridge=null,PandaBridge.isStudio=!1,PandaBridge.resources=[],connectWebViewJavascriptBridge(function(e){window.WebViewJavascriptBridge&&e==window.WebViewJavascriptBridge&&void 0==window.WebViewJavascriptBridge.send&&(e={init:function(e){return function(n){e.registerHandler("message",function(e){n(e)})}}(e),send:function(e){return function(n){e.callHandler("message",n)}}(e)}),PandaBridge.bridge=e,PandaBridge.initCallBack&&PandaBridge.initCallBack(),e.init(function(e){try{var n=JSON.parse(e);executeHook(n.event,n.args)}catch(i){}})}),PandaBridge.init=function(e){PandaBridge.initCallBack=e,PandaBridge.bridge&&PandaBridge.initCallBack()},PandaBridge.send=function(e,n){if(PandaBridge.bridge)try{var i=JSON.stringify({event:e,args:n});PandaBridge.bridge.send.call(PandaBridge.bridge,i)}catch(a){}},PandaBridge.listen=function(e,n){"function"==typeof e?PandaBridge.globalReceive.push(e):(void 0===PandaBridge.eventReceive[e]&&(PandaBridge.eventReceive[e]=[]),PandaBridge.eventReceive[e].push(n))},PandaBridge.unlisten=function(e,n){if(void 0===e&&void 0===n)PandaBridge.globalReceive=[],PandaBridge.eventReceive={};else if("function"==typeof e){var i=PandaBridge.globalReceive.indexOf(e);-1!==i&&PandaBridge.globalReceive.splice(i,1)}else if(void 0===n)PandaBridge.eventReceive[e]=[];else{var i=PandaBridge.eventReceive[e].indexOf(n);-1!==i&&PandaBridge.eventReceive[e].splice(i,1)}},PandaBridge.onLoad=function(e){PandaBridge.listen("__ps_initialize",function(n){n=n||[],PandaBridge.resources=n[2]||[],e({properties:n[0]||{},markers:n[1]||[]})})},PandaBridge.getSnapshotData=function(e){PandaBridge.listen("__ps_getSnapshotData",function(n){PandaBridge.send("__ps_snapshotDataResult",[e(n)])})},PandaBridge.setSnapshotData=function(e){PandaBridge.listen("__ps_setSnapshotData",function(n){n=n||[],e({data:n[0]||{},params:n[1]||{}})})},PandaBridge.getScreenshot=function(e){PandaBridge.listen("__ps_getScreenshot",function(n){PandaBridge.send("__ps_screenshotResult",[e(n)])})},PandaBridge.synchronize=function(e,n){"function"==typeof e?PandaBridge.listen("synchronize",function(n){e(n[0])}):"function"==typeof n&&PandaBridge.listen("synchronize",function(i){(i||[])[1]==e&&n(i[0])})},PandaBridge.resolvePath=function(e,n){var i=null;return PandaBridge.resources.forEach(function(n){n.id==e&&(i=n)}),i?i.path:n},window.PandaBridge=PandaBridge;